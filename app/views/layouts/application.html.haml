!!!
%html{:lang => "en"}
  %head
    %meta{:charset => "utf-8"}/
    %meta{:content => "IE=Edge,chrome=1", "http-equiv" => "X-UA-Compatible"}/
    %meta{:content => "width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0", :name => "viewport"}/

    %title= content_for?(:title) ? yield(:title) : "LetterLoose"
    = csrf_meta_tags
    = stylesheet_link_tag "application", :media => "all"
    = javascript_include_tag "application"

  %body
    %nav.navbar.navbar-inverse
      .container-fluid
        .navbar-header
          = link_to root_path, class: 'navbar-brand' do
            = image_tag 'title.png', style: 'max-width: 420px;margin-top: -6px;'
        %button.navbar-toggle{"data-target" => "#myNavbar", "data-toggle" => "collapse", :type => "button"}
          %span.icon-bar
          %span.icon-bar
          %span.icon-bar

        #myNavbar.collapse.navbar-collapse
          %ul.nav.navbar-nav.navbar-right
            - if user_signed_in?
              %li.dropdown
                %a.dropdown-toggle{"aria-expanded" => "false", "aria-haspopup" => "true", "data-toggle" => "dropdown", :href => "#", :role => "button"}
                  %span.glyphicon.glyphicon-user
                  = current_user.username
                  %span.caret
                %ul.dropdown-menu
                  %li
                    = link_to "My Tweaks", user_descriptions_path(current_user)
                  %li.divider{:role => "separator"}
                  %li
                    = link_to 'My Account', user_email_preferences_path(current_user)
                  %li.divider{:role => "separator"}
                  %li
                    = link_to 'Logout', destroy_user_session_path, method: :delete
            - else
              %li
                = link_to new_registration_path('user') do
                  %span.glyphicon.glyphicon-user
                  Sign Up
              %li
                = link_to new_session_path('user') do
                  %span.glyphicon.glyphicon-log-in
                  Login
    .container
      .row
        .col-lg-12
          .flash-container
            = bootstrap_flash
          = yield


#fb-root
:javascript
  window.fbAsyncInit = function() {
    // init the FB JS SDK
    FB.init({
      appId      : '1881845702141870', // App ID from the App Dashboard
      status     : true, // check the login status upon init?
      cookie     : true, // set sessions cookies to allow your server to access the session?
      xfbml      : true  // parse XFBML tags on this page?
    });

    // Additional initialization code such as adding Event Listeners goes here

  };

  function postToFeed(){

  FB.ui(
  {
   method: 'feed',
   name: 'The Facebook SDK for Javascript',
   caption: 'Bringing Facebook to the desktop and mobile web',
   description: (
      'A small JavaScript library that allows you to harness ' +
      'the power of Facebook, bringing the user\'s identity, ' +
      'social graph and distribution power to your site.'
   ),
   link: 'http:letterloose.com',
   picture: 'http://www.fbrell.com/public/f8.jpg'
  },
  function(response) {
    if (response && response.post_id) {
      alert('Post was published.');
    } else {
      alert('Post was not published.');
    }
  }
  );

  };
  
  // Load the SDK's source Asynchronously
  (function(d){
     var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement('script'); js.id = id; js.async = true;
     js.src = "//connect.facebook.net/en_US/all.js";
     ref.parentNode.insertBefore(js, ref);
   }(document));